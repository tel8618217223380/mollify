#summary How to enable file upload progress display
#labels Phase-Deploy

= Introduction =

Mollify supports PHP extension called APC (Alternative PHP Cache), which implements a file upload hook to php. APC is available at PECL ([http://pecl.php.net/ PHP Extension Community Library]) or PEAR ([http://pear.php.net/ PHP Extension and Application Repository]).


== Requirements ==

APC requires PHP versions >= 5.2 and PEAR >= 1.4.


= Installation =

== 1. Installing APC ==

  #1 To install it in Windows, download PECL and the APC extension from [http://pecl4win.php.net/]
  #2 To install it in Debian linux (Ubuntu etc), use following commands:
{{{
apt-get install apache2
apt-get install libapache2-mod-php5
apt-get install php-pear
apt-get install php5-dev
apt-get install make
apt-get install apache2-prefork-dev
pecl install apc
}}}
  #3 In Mac installations (MAMP), APC is already included as long as PHP 5 is selected.

== 2. Configuring APC ==

  #1 Make sure APC extension is enabled in section "Dynamic Extensions" in php.ini.
    # In Linux or Mac
{{{
extension=apc.so
}}}
    # In Windows
{{{
extension=apc.dll
}}}
  #2 Make sure file upload hook is enabled in php.ini with following setting
{{{
apc.rfc1867 = on
}}}

== 3. Configuring Mollify ==

Open configuration settings (configuration.php) and make sure following setting is set: 

{{{
	$SETTINGS = array(
		"enable_file_upload_progress" => TRUE
	);
}}}



= Troubleshooting =

=== PHP error for missing function "apc_fetch" ===

If you get complains about missing function "apc_fetch", APC is not installed. APC is provided via PECL (PHP Extension Community Library), more information can be found here: [http://fi.php.net/manual/en/install.pecl.php]

== PHP error "Cannot run code from this file in conjunction with non encoded files"==

Error "_Cannot run code from this file in conjunction with non encoded files_" is due to the fact that APC is primarily a cache (and only secondarily file upload hook), which means that it tries to cache items.

If APC is only for file upload hook, you can configure it to ignore regular php files. For example, following configuration applies only php classes (sure you could make it ignore them as well):

{{{
apc.cache_by_default = "Off"
apc.filters = "+\.class\.php$"
}}}

For more information about configuring APC, see [http://fi.php.net/manual/en/apc.configuration.php]